## Представьте, что вам необходимо протестировать библиотеку для задания assertions. Как бы вы подошли к решению этой проблемы?

На самом деле особенных гениальных идей я не придумал, кроме использования классических* unit-тестов*. Но давайте попробуем подумать, что хотели бы мы потестировать.

### Для нас спецификация ассерта выглядит как-то так:

```
if (assert_enable) 
    if (!expression) exit 1;
```

### Исходя из этого, кажется, хочется проверить, что:

1. если выражение `true` ничего не происходит
1. если выражение `false`, то исполнение остановилось
1. правильно вычисляется значения выражения (не уверен, но кажется такие ситуации вполне возможны)
1. **ассерт не изменяет состояние программы (если его не изменяет выражение внутри ассерта)**
1. ассерты правильно отключаются

Кажется это общее почти для любой библиотеки ассертов (давайте не будем думать про более сложные)

### Как это проверить?

Кажется, все пункты кроме 4 и 5 достаточно очевидны. Но если проверить 5 пункт можно прогнав все предыдущие тесты, только теперь все программы должны завершится и ассерты не должны тригериться.

Для 4 пункта можно попробовать зафиксировать память до ассерта и сравнить с памятью после ассерта, и проверить что никаких новых значений не появилось, но тут есть много проблем. Если ассерт валидно сохранит какие-нибудь значения для чего-нибудь, будут проблемы. Но кажется, что-то такое можно использовать для 4 пункта.   

### Качество тестов

Кажется идеальным способом учитывать качество тестов будет мутационное тестирование, потому что если при изменинии условия срабатывания ассерта тесты не могут найти такую проблему, значит у нас плохие тесты. При этом библиотека ассертов вряд-ли будет очень большой, поэтому ее быстро мутировать.  
